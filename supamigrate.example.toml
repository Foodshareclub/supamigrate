# Supamigrate Configuration Example
# Copy this to supamigrate.toml and fill in your values
# NEVER commit supamigrate.toml - it contains secrets!

[projects.production]
project_ref = "your-project-ref"          # From Supabase dashboard URL
db_password = "your-database-password"    # Database password
service_key = "your-service-role-key"     # Service role JWT (not anon key)
access_token = "sbp_xxxxxxxxxxxxx"        # Personal access token (for edge functions)

[projects.staging]
project_ref = "your-staging-ref"
db_password = "staging-password"
service_key = "staging-service-key"
access_token = "sbp_xxxxxxxxxxxxx"

[defaults]
parallel_transfers = 4    # Concurrent file uploads/downloads
compress_backups = true   # Gzip database dumps

# Optional: Cloud storage for backups (S3-compatible)
# Used by CI/CD pipeline for remote backup storage
[storage.r2]
endpoint = "https://your-account-id.r2.cloudflarestorage.com"
bucket = "supabase-backups"
access_key = "your-r2-access-key"       # R2 Access Key ID
secret_key = "your-r2-secret-key"       # R2 Secret Access Key
api_token = "your-cloudflare-api-token" # Cloudflare API token (optional)
region = "auto"
